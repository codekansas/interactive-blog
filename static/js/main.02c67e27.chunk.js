(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){},63:function(e,t,a){e.exports=a(97)},68:function(e,t,a){},69:function(e,t,a){},88:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(20),i=a.n(r),o=(a(68),a(102)),s=a(104),u=a(22),m=a(13),c=(a(69),function(){return l.a.createElement("div",{className:"emphasis all"},l.a.createElement("h1",{className:"padded bottom"},"Hi!"," ",l.a.createElement("span",{role:"img","aria-label":"waving hand"},"\ud83d\udc4b")),l.a.createElement("h2",{className:"padded bottom"},"My name is Ben."),l.a.createElement("h4",{className:"padded bottom contents"},"I'm a software engineer at Facebook, where I work on natural language processing."),l.a.createElement("h4",{className:"padded bottom contents"},"I like trying to explain things in fun and informative ways. I used to fairly active on"," ",l.a.createElement("a",{href:"https://github.com/codekansas"},"Github"),". If you're interested in connecting, shoot me an"," ",l.a.createElement("a",{href:"mailto:ben@bolte.cc"},"email"),"."),l.a.createElement("h4",{className:"padded bottom contents"},"Besides programming, I like playing soccer and reading books. I'm currently trying to get better at"," ",l.a.createElement("a",{href:"https://www.chess.com/member/codekansas"},"chess"),", but it's slow going."))}),p=a(29),d=a(101),h=a(105),v=(a(49),a(40)),g=a(41),f=a(46),y=a(42),b=a(45),k=a(103),V=a(57),_=a(99),E=a(100),w=(a(70),a(18)),T=a(24),M=a.n(T),P=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(f.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(l)))).state={nearestValue:null},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"runModel",value:function(){var e=this.props,t=e.params,a=e.model,n=e.dt,l=e.totalTime,r=e.targetParamKey,i=l/n,o=new Map(t.map(function(e){return[e.key,e.value]}));return Object(p.a)(Array(i).keys()).reduce(function(e,t){var l=a(e.params,n,t*n);return e.results.push({x:t*n,y:l.get(r)}),{params:l,results:e.results}},{params:o,results:[]}).results}},{key:"render",value:function(){var e=this,t=this.props,a=t.params,n=t.model,r=t.height,i=t.ylabel,o=this.runModel(a,n),s=this.state.nearestValue;return l.a.createElement(w.b,{height:r,onMouseLeave:function(){return e.setState({nearestValue:null})}},l.a.createElement(w.d,{title:"Time (ms)"}),l.a.createElement(w.e,{title:i}),l.a.createElement(w.c,{strokeStyle:"dashed",data:o,onNearestX:function(t){return e.setState({nearestValue:t})}}),null==s?null:l.a.createElement(w.a,{values:[s],titleFormat:function(e){return{title:i,value:"".concat(Math.round(1e4*e[0].y)/1e4)}},itemsFormat:function(e){return e.map(function(e){return{title:"Time (ms)",value:"".concat(Math.round(1e4*e.x)/1e4)}})}}))}}]),t}(n.Component),S=function(e){function t(e){var a;Object(v.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props.params;e.preventDefault(),e.stopPropagation();var n=e.currentTarget,l=t.map(function(e){var t=e.key,a=e.name,l=e.unit,r=e.stepValue;return{key:t,name:a,unit:l,value:parseFloat(n[t].value),stepValue:r}}),r=n.out_var.value;a.setState({params:l,targetParamKey:r})};var n=e.params,l=e.defaultTargetParamKey;return a.state={params:n,targetParamKey:l},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"renderModel",value:function(){var e=this.props,t=e.model,a=e.height,n=this.state,r=n.params,i=n.targetParamKey,o=r.find(function(e){return e.key===i}),s=o.name,u=o.unit,m=null==u?s:"".concat(s," (").concat(u,")");return l.a.createElement("div",null,l.a.createElement(M.a,{height:a},l.a.createElement(P,{params:r,targetParamKey:i,model:t,ylabel:m,dt:.04,totalTime:250,height:a})),l.a.createElement(k.a,{onSubmit:this.handleSubmit},l.a.createElement(k.a.Row,null,r.map(function(e){return l.a.createElement(k.a.Group,{key:e.key,controlId:e.key,as:V.a,md:4},l.a.createElement(k.a.Label,null,e.name),l.a.createElement(_.a,null,l.a.createElement(k.a.Control,{type:"number",placeholder:e.name,defaultValue:e.value,step:e.stepValue,required:!0}),null==e.unit?null:l.a.createElement(_.a.Append,null,l.a.createElement(_.a.Text,null,e.unit))))}),l.a.createElement(k.a.Group,{controlId:"out_var",as:V.a,md:4},l.a.createElement(k.a.Label,null,"Output Variable"),l.a.createElement(k.a.Control,{as:"select",defaultValue:i,required:!0},r.map(function(e){return l.a.createElement("option",{value:e.key,key:e.key},e.name)}))),l.a.createElement(k.a.Group,{key:"submit",as:V.a,md:4},l.a.createElement(k.a.Label,null,"Update Params"),l.a.createElement(_.a,null,l.a.createElement(E.a,{type:"submit"},"Update"))))))}},{key:"render",value:function(){return this.renderModel()}}]),t}(n.Component);S.defaultProps={height:300};var I=S,x=[{key:"tau_m",name:"Time Constant",unit:"ms",value:12.5,stepValue:.5},{key:"a",name:"a Variable",unit:null,value:.7,stepValue:.01},{key:"b",name:"b Variable",unit:null,value:.8,stepValue:.01},{key:"w",name:"w Variable",unit:null,value:0,stepValue:.01},{key:"v_mem",name:"Membrane Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in",name:"Input Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in_level",name:"Input Voltage Step",unit:"mV",value:500,stepValue:1},{key:"start_time",name:"Stimulation Start Time",unit:"ms",value:20,stepValue:1}],N=function(e,t,a){var n=e.get("tau_m"),l=e.get("a"),r=e.get("b"),i=e.get("w"),o=e.get("v_in")/1e3,s=e.get("v_mem")/1e3,u=s+(s-s*s*s/3-i+o)*t,m=i+(s+l-r*i)*t/n;return a>=e.get("start_time")&&e.set("v_in",e.get("v_in_level")),e.set("v_mem",1e3*u),e.set("w",m),e},C=function(){return l.a.createElement(I,{params:x,defaultTargetParamKey:"v_mem",model:N})},j=[{key:"a",name:"a Variable",unit:null,value:.02,stepValue:.001},{key:"b",name:"b Variable",unit:null,value:.2,stepValue:.01},{key:"c",name:"c Variable",unit:null,value:-50,stepValue:1},{key:"d",name:"d Variable",unit:null,value:2,stepValue:.01},{key:"v_in",name:"Input Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in_level",name:"Input Voltage Step",unit:"mV",value:20,step_value:1},{key:"v_thresh",name:"Threshold Voltage",unit:"mV",value:30,stepValue:1},{key:"v_mem",name:"Membrane Voltage",unit:"mV",value:-60,stepValue:1},{key:"u",name:"u Variable",unit:null,value:.5,stepValue:.01},{key:"start_time",name:"Stimulation Start Time",unit:"ms",value:20,stepValue:1}],F=function(e,t,a){var n=e.get("a"),l=e.get("b"),r=e.get("c"),i=e.get("d"),o=e.get("v_thresh"),s=e.get("v_in"),u=e.get("v_mem"),m=e.get("u"),c=u+(.04*u*u+5*u+140-m+s)*t,p=m+n*(l*u-m)*t;return a>=e.get("start_time")&&e.set("v_in",e.get("v_in_level")),c>=o?(e.set("v_mem",r),e.set("u",p+i)):(e.set("v_mem",c),e.set("u",p)),e},L=function(){return l.a.createElement(I,{params:j,defaultTargetParamKey:"v_mem",model:F})},O=[{key:"e_na",name:"Sodium Reversal Potential",unit:"mV",value:50,stepValue:1},{key:"e_k",name:"Potassium Reversal Potential",unit:"mV",value:-77,stepValue:1},{key:"e_l",name:"Leak Potential",unit:"mV",value:-54,stepValue:1},{key:"g_na",name:"Sodium Conductance",unit:"mS / cm * cm",value:120,stepValue:1},{key:"g_k",name:"Potassium Conductance",unit:"mS / cm * cm",value:36,stepValue:1},{key:"g_l",name:"Leak Conductance",unit:"mS / cm * cm",value:.3,stepValue:.01},{key:"v_in",name:"Input Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in_level",name:"Input Voltage Step",unit:"mV",value:20,stepValue:1},{key:"v_mem",name:"Membrane Voltage",unit:"mV",value:-65,stepValue:1},{key:"m",name:"m Variable",unit:null,value:.05,stepValue:.001},{key:"h",name:"h Variable",unit:null,value:.6,stepValue:.001},{key:"n",name:"n Variable",unit:null,value:.32,stepValue:.001},{key:"start_time",name:"Stimulation Start Time",unit:"ms",value:20,stepValue:1}],A=function(e,t,a){var n=e.get("e_na"),l=e.get("e_k"),r=e.get("e_l"),i=e.get("g_na"),o=e.get("g_k"),s=e.get("g_l"),u=e.get("v_in"),m=e.get("v_mem"),c=e.get("m"),p=e.get("n"),d=e.get("h"),h=(u-i*c*c*c*d*(m-n)-o*p*p*p*p*(m-l)-s*(m-r))*t,v=m+40,g=.1*v/(1-Math.exp(-v/10)),f=.07*Math.exp(-(m+65)/20),y=m+55,b=.01*y/(1-Math.exp(-y/10)),k=(g*(1-c)-4*Math.exp(-(m+65)/18)*c)*t,V=(f*(1-d)-1/(1+Math.exp(-(m+35)/10))*d)*t,_=(b*(1-p)-.125*Math.exp(-(m+65)/80)*p)*t;return e.set("m",c+k),e.set("h",d+V),e.set("n",p+_),e.set("v_mem",m+h),a>=e.get("start_time")&&e.set("v_in",e.get("v_in_level")),e},K=function(){return l.a.createElement(I,{params:O,defaultTargetParamKey:"v_mem",model:A})},R=[{key:"v_reset",name:"Reset Voltage",unit:"mV",value:-60,stepValue:1},{key:"v_thresh",name:"Threshold Voltage",unit:"mV",value:15,stepValue:1},{key:"v_in",name:"Input Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in_level",name:"Input Voltage Step",unit:"mV",value:20,stepValue:1},{key:"tau_m",name:"Time Constant",unit:"ms",value:10,stepValue:1},{key:"v_mem",name:"Membrane Voltage",unit:"mV",value:0,stepValue:1},{key:"start_time",name:"Stimulation Start Time",unit:"ms",value:20,stepValue:1}],H=function(e,t,a){var n=e.get("v_reset"),l=e.get("v_thresh"),r=e.get("v_in"),i=e.get("v_mem"),o=i+(r-i)/e.get("tau_m")*t,s=o>l?n:o;return a>=e.get("start_time")&&e.set("v_in",e.get("v_in_level")),e.set("v_mem",s),e},W=function(){return l.a.createElement(I,{params:R,defaultTargetParamKey:"v_mem",model:H})},B=[{key:"cap",name:"Membrane Capacitance",unit:"uF / cm * cm",value:20,stepValue:.1},{key:"e_k",name:"Potassium Reversal Potential",unit:"mV",value:-84,stepValue:1},{key:"e_ca",name:"Calcium Reversal Potential",unit:"mV",value:120,stepValue:1},{key:"e_l",name:"Leak Potential",unit:"mV",value:-60,stepValue:1},{key:"g_k",name:"Potassium Conductance",unit:"mS / cm * cm",value:8,stepValue:.1},{key:"g_ca",name:"Calcium Conductance",unit:"mS / cm * cm",value:4,stepValue:.1},{key:"g_l",name:"Leak Conductance",unit:"mS / cm * cm",value:2,stepValue:.1},{key:"v1",name:"V1 Tuning Param",unit:"mV",value:-1.2,stepValue:.1},{key:"v2",name:"V2 Tuning Param",unit:"mV",value:18,stepValue:.1},{key:"v3",name:"V3 Tuning Param",unit:"mV",value:12,stepValue:.1},{key:"v4",name:"V4 Tuning Param",unit:"mV",value:17,stepValue:.1},{key:"phi",name:"Reference Frequency",unit:null,value:.067,stepValue:.001},{key:"n",name:"n Variable",unit:null,value:.014,stepValue:.001},{key:"v_mem",name:"Membrane Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in",name:"Input Voltage",unit:"mV",value:0,stepValue:1},{key:"v_in_level",name:"Input Voltage Step",unit:"mV",value:100,stepVallue:1},{key:"start_time",name:"Stimulation Start Time",unit:"ms",value:20,stepValue:1}],U=function(e,t,a){var n=e.get("cap"),l=e.get("e_ca"),r=e.get("e_k"),i=e.get("e_l"),o=e.get("g_ca"),s=e.get("g_k"),u=e.get("g_l"),m=e.get("v_in"),c=e.get("v_mem"),p=e.get("phi"),d=e.get("v1"),h=e.get("v2"),v=e.get("v3"),g=e.get("v4"),f=e.get("n"),y=(m-u*(c-i)-o*(.5*(1+Math.tanh((c-d)/h)))*(c-l)-s*f*(c-r))*t/n,b=(.5*(1+Math.tanh((c-v)/g))-f)/(1/(p*Math.cosh((c-v)/(2*g))))*t;return e.set("v_mem",c+y),e.set("n",f+b),a>=e.get("start_time")&&e.set("v_in",e.get("v_in_level")),e},G=function(){return l.a.createElement(I,{params:B,defaultTargetParamKey:"v_mem",model:U})},q=function(e){var t=e.title,a=e.description,n=e.model;return[l.a.createElement("div",{className:"post-body emphasis top",key:"body"},l.a.createElement("h3",null,t),l.a.createElement("div",null,a)),l.a.createElement("div",{className:"emphasis top",key:"model"},n)]},z=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"post-body"},l.a.createElement("h3",null,"Biological Neuron Models"),l.a.createElement("div",null,"In the early days of neural networks, before we had tons of data and high-performing GPU libraries, neural networks actually meant something roughly biological. The McCulloch-Pitts neuron, which is effectively a perceptron with a binary threshold, was inspired by real neurons, which get inputs from outside sources like other neurons and, if the inputs are collectively large enough, output a spike. More complex models were developed to better model the actual physiology, as measured through experiments, which has resulted in a comprehensive library of models of varying complexity. The models below are some of the more popular models used in computational neuroscience."),l.a.createElement("h3",{className:"emphasis top"},"Markov Models"),l.a.createElement("div",null,"The models described here are Markov models, meaning that the future state can be entirely described by the current state, irrespective to past events. These models use one or more state variables - the simplest state variable being the membrane potential. These models are typically differential equations, and we can throw them into a forward solver to solve them very simply (although more complex solvers are usually better at handling numerical instability). Non-Markovian models also exist.")),l.a.createElement(q,{title:"Leaky Integrate and Fire Model",description:l.a.createElement(l.a.Fragment,null,"This is the simplest kind of neuron model. It consists of two parts:",l.a.createElement("ol",null,l.a.createElement("li",null,"Slow leakage of ions across the membrane, which is represented as a resistor"),l.a.createElement("li",null,"Voltage difference across the membrane which triggers voltage-gated channels to open when it reaches a certain threshold, which is represented as a capacitor"))),model:l.a.createElement(W,null)}),l.a.createElement(q,{title:"Izhikevich Model",description:l.a.createElement(l.a.Fragment,null,"This is a simple model that reproduces spiking and bursting behavior of known types of cortical neurons. A full description of this model's behavior, along with new parameters you can try, can be found"," ",l.a.createElement("a",{href:"https://www.izhikevich.org/publications/spikes.htm"},"here"),"."),model:l.a.createElement(L,null)}),l.a.createElement(q,{title:"Hodgkin-Huxley Model",description:l.a.createElement(l.a.Fragment,null,"This is a much more advanced kind of model, which attempts to accurately mimic the biological mechanisms by explicitly modeling the ion channels on the surface of the neuron. This was one of the first biological neuron models to be developed, and is viewed as an accurate representation of some types of physiology. It uses four variables to represent the different kinds of kinetics, instead of just using the membrane potential like in other models."),model:l.a.createElement(K,null)}),l.a.createElement(q,{title:"FitzHugh-Nagumo Model",description:l.a.createElement(l.a.Fragment,null,"This model is a simplified version of the Hodgkin-Huxley model. It uses a feedback loop variable to enable the model to learn more complex dynamics than the simple LIF model, but it doesn't have clear biological correlates. In particular, the voltage range is well outside the voltage range for typical neuron models."),model:l.a.createElement(C,null)}),l.a.createElement(q,{title:"Morris-Lecar Model",description:l.a.createElement(l.a.Fragment,null,"This model describes the relationship between calcium and potassium conductances in the muscle fiber of the giant barnacle. As opposed to other models which model the relationship between sodium and potassium, muscle fiber synapse potentials are typically more dependent on calcium, because there are more calicum channels. This is true in other animals as well. Additionally, rather than using four state variables, this model only uses two."),model:l.a.createElement(G,null)}))},J=function(){return l.a.createElement("div",null,"I will work on this blog post later.")},D=new Map([["torchscript",{title:"Torchscript \ud83d\udd25 verses Caffe2 \u2615",blurb:l.a.createElement("span",null,"Facebook is migrating a lot of our machine learning inference infrastructure over to Torchscript, so I figured I should write an informational blog post about the technical internals of each, as I understand them."),renderer:J}],["neuron_models",{title:"Neuron \ud83e\udde0 Models",blurb:l.a.createElement("span",null,"An investigation of some different kinds of biological neuron models, from the neuroscience world rather than the computer science world"),renderer:z}]]),X=function(e){var t=e.info,a=t.title,n=t.blurb,r=t.renderer;return l.a.createElement("div",{className:"emphasis all"},l.a.createElement("h1",{className:"padded bottom title"},a),l.a.createElement("h4",{className:"emphasis bottom blurb"},n),l.a.createElement(M.a,null,r()))},$=function(e){var t=e.post;return null!=t&&D.has(t)?l.a.createElement(X,{info:D.get(t)}):l.a.createElement("div",{className:"emphasis all"},l.a.createElement("h1",{className:"padded bottom"},"Posts"),l.a.createElement(d.a,null,Object(p.a)(D.keys()).map(function(e){var t=D.get(e),a=t.title,n=t.blurb;return l.a.createElement(h.a,{className:"text-center p-3",key:e},l.a.createElement(h.a.Body,null,l.a.createElement(h.a.Title,null,l.a.createElement(u.b,{to:"/posts/".concat(e)},a)),l.a.createElement(h.a.Text,null,n)))})))},Q=(a(88),function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",null,l.a.createElement(o.a,{bg:"light",expand:"lg"},l.a.createElement(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(o.a.Collapse,null,l.a.createElement(s.a,null,l.a.createElement(s.a.Link,{href:"#/"},"Home"),l.a.createElement(s.a.Link,{href:"#posts"},"Posts"))))),l.a.createElement(u.a,null,l.a.createElement(m.a,{exact:!0,path:"/",component:c}),l.a.createElement(m.a,{path:"/posts",component:function(e){var t=e.match.url;return l.a.createElement(u.a,null,l.a.createElement(m.a,{exact:!0,path:"".concat(t),component:$}),l.a.createElement(m.a,{path:"".concat(t,"/:post"),component:function(e){var t=e.match.params.post;return l.a.createElement($,{post:t})}}))}})))}),Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(l.a.createElement(Q,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/blog",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/blog","/service-worker.js");Y?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Z(t,e)})}}()}},[[63,1,2]]]);
//# sourceMappingURL=main.02c67e27.chunk.js.map